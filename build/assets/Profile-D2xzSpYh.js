import{j as e,al as ts,r as o,am as as,an as is,ao as rs,ap as ls,aq as ns,ar as os,as as we,_ as cs,i as ue,g as ds,m as A,X as k,at as ms,t as pe,h as xs,au as hs,av as fs,H as E,B as us,y as ps,z as js,a8 as je,a9 as gs,aw as vs,s as Ns,u as bs}from"./vendor-react-DTfwnz2i.js";import{N as ws,A as ge,a as ve,b as ys}from"./Navigation-DYALYri8.js";import{c as w,g as ye,C as u,f as p,B as m,b as j,d as g,a as ee,e as X}from"./badge-Bk34XC_J.js";import{I as b}from"./input-BMLotNza.js";import{T as Ne}from"./textarea-C2mIUScX.js";import{L as T}from"./label-qGWvcckI.js";import{T as Cs,a as be,b as B,c as M}from"./tabs-V_RvRFQ7.js";import{t as x}from"./vendor-ui-9zUGSSqf.js";import{b as ks,u as Es,c as q}from"./index-BR7N1bNZ.js";import"./vendor-Cgdd8BZB.js";import"./separator-Bu3GtbjQ.js";function se({...d}){return e.jsx(ts,{"data-slot":"alert-dialog",...d})}function Ss({...d}){return e.jsx(os,{"data-slot":"alert-dialog-portal",...d})}const Ce=o.forwardRef(({className:d,...a},V)=>e.jsx(we,{ref:V,"data-slot":"alert-dialog-overlay",className:w("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",d),...a}));Ce.displayName=we.displayName;function te({className:d,...a}){return e.jsxs(Ss,{children:[e.jsx(Ce,{}),e.jsx(as,{"data-slot":"alert-dialog-content",className:w("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",d),...a})]})}function ae({className:d,...a}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:w("flex flex-col gap-2 text-center sm:text-left",d),...a})}function ie({className:d,...a}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:w("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",d),...a})}function re({className:d,...a}){return e.jsx(is,{"data-slot":"alert-dialog-title",className:w("text-lg font-semibold",d),...a})}function le({className:d,...a}){return e.jsx(rs,{"data-slot":"alert-dialog-description",className:w("text-muted-foreground text-sm",d),...a})}function ne({className:d,...a}){return e.jsx(ns,{className:w(ye(),d),...a})}function oe({className:d,...a}){return e.jsx(ls,{className:w(ye({variant:"outline"}),d),...a})}function Js({onNavigate:d}){const{user:a,wallet:V,setUser:O}=ks(),{t:i}=Es(),ke=()=>{d("landing")},[Ee,ce]=o.useState("overview"),[l,y]=o.useState(!1),[_,F]=o.useState(!1),[Se,C]=o.useState(!1),[H,W]=o.useState(null),[de,me]=o.useState(!1),[v,Y]=o.useState(null),[De,G]=o.useState(!1),[h,S]=o.useState({title:"",link:"",tags:"",description:"",media:""}),[t,c]=o.useState({name:"",username:"",bio:"",email:"",phone:"",location:"",avatar:"",skills:[],jobExperiences:[],studyExperiences:[],certifications:[],servicesOffered:[],reviews:[],portfolio:[]}),[N,K]=o.useState({...t});o.useEffect(()=>{if(a){const s={name:a.name||"User",username:a.email?.split("@")[0]||"user",bio:a.bio||"Welcome to Work & Invest! I'm excited to collaborate with talented professionals.",email:a.email||"",phone:"+216 XX XXX XXX",location:a.location||"Tunisia",avatar:a.avatar||"",skills:a.skills||[],jobExperiences:a.jobExperiences||[],studyExperiences:a.studyExperiences||[],certifications:a.certifications||[],servicesOffered:a.servicesOffered||[],reviews:a.reviews||[],portfolio:a.portfolio||[]};c(s),K(s)}},[a]),o.useEffect(()=>{const s=JSON.stringify(t)!==JSON.stringify(N);F(s)},[t,N]);const f={name:t.name,title:"Work & Invest Member",location:t.location,joinedDate:a?.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently",rating:a?.rating||0,reviewCount:a?.reviews?.length||0,completedJobs:a?.completedJobs||0,activeProjects:0,skillCredits:V?.credits||0,totalEarnings:a?.totalEarnings||0,bio:t.bio,phone:t.phone,email:t.email},D=1e3,$=D-t.bio.length,Pe=async s=>{if(s===N.username){Y(null);return}me(!0),await new Promise(n=>setTimeout(n,500));const r=["admin","user","test"].includes(s.toLowerCase());Y(!r),me(!1)};o.useEffect(()=>{if(t.username&&t.username.length>=3){const s=setTimeout(()=>{Pe(t.username)},500);return()=>clearTimeout(s)}else Y(null)},[t.username]);const Ae=async()=>{if(t.bio.length>D){x.error(i("profile.bioTooLong",{limit:D}));return}if(v===!1){x.error(i("profile.usernameTaken"));return}try{const s=await q.updateProfile(a.id,{name:t.name,bio:t.bio,location:t.location,skills:t.skills,jobExperiences:t.jobExperiences,studyExperiences:t.studyExperiences,certifications:t.certifications,servicesOffered:t.servicesOffered,reviews:t.reviews,portfolio:t.portfolio});O(s.profile),K({name:s.profile.name||"",username:s.profile.email?s.profile.email.split("@")[0]:"",bio:s.profile.bio||"",email:s.profile.email||"",phone:s.profile.phone||"",location:s.profile.location||"",avatar:s.profile.avatar||"",skills:s.profile.skills||[],jobExperiences:s.profile.jobExperiences||[],studyExperiences:s.profile.studyExperiences||[],certifications:s.profile.certifications||[],servicesOffered:s.profile.servicesOffered||[],reviews:s.profile.reviews||[],portfolio:s.profile.portfolio||[]}),F(!1),y(!1),x.success(i("profile.saveChangesSuccess"))}catch(s){console.error("Failed to save profile changes:",s),x.error(i("profile.saveChangesError"))}},Te=()=>{_?C(!0):(c({...N}),y(!1))},Oe=()=>{c({...N}),F(!1),y(!1),C(!1)},Fe=s=>{_&&l?(W(s),C(!0)):ce(s)},Re=()=>{c({...N}),F(!1),y(!1),H&&(ce(H),W(null)),C(!1)},ze=()=>{x.info("Photo upload coming soon! This would open a file picker with crop and compression options.")},[R,xe]=o.useState(""),he=()=>{R.trim()&&!t.skills.includes(R.trim())&&(c(s=>({...s,skills:[...s.skills,R.trim()]})),xe(""))},Ie=s=>{c(r=>({...r,skills:r.skills.filter(n=>n!==s)}))},[z,Ue]=o.useState({title:"",company:"",startDate:"",endDate:null,description:""}),Le=()=>{z.title&&z.company&&z.startDate?(c(s=>({...s,jobExperiences:[...s.jobExperiences,{...z,id:P()}]})),Ue({title:"",company:"",startDate:"",endDate:null,description:""})):x.error(i("onboarding.jobExperienceRequiredFields"))},Je=s=>{c(r=>({...r,jobExperiences:r.jobExperiences.filter(n=>n.id!==s)}))},[I,Xe]=o.useState({degree:"",institution:"",startDate:"",endDate:null,description:""}),Be=()=>{I.degree&&I.institution&&I.startDate?(c(s=>({...s,studyExperiences:[...s.studyExperiences,{...I,id:P()}]})),Xe({degree:"",institution:"",startDate:"",endDate:null,description:""})):x.error(i("onboarding.studyExperienceRequiredFields"))},Me=s=>{c(r=>({...r,studyExperiences:r.studyExperiences.filter(n=>n.id!==s)}))},[U,qe]=o.useState({name:"",issuer:"",date:""}),Ve=()=>{U.name&&U.issuer&&U.date?(c(s=>({...s,certifications:[...s.certifications,{...U,id:P()}]})),qe({name:"",issuer:"",date:""})):x.error(i("profile.certificationRequiredFields"))},_e=s=>{c(r=>({...r,certifications:r.certifications.filter(n=>n.id!==s)}))},[Q,He]=o.useState({name:"",price:"",rating:0}),We=()=>{Q.name&&Q.price?(c(s=>({...s,servicesOffered:[...s.servicesOffered,{...Q,id:P()}]})),He({name:"",price:"",rating:0})):x.error(i("profile.serviceRequiredFields"))},Ye=s=>{c(r=>({...r,servicesOffered:r.servicesOffered.filter(n=>n.id!==s)}))};function P(){return Math.random().toString(36).substr(2,9)}const Ge=async()=>{if(!h.title.trim()){x.error("Please provide a project title");return}const s={id:P(),title:h.title,description:h.description,tags:h.tags?h.tags.split(",").map(r=>r.trim()).filter(Boolean):[],link:h.link||void 0,media:h.media||null,createdAt:new Date().toISOString()};try{const r=[...a?.portfolio||[],s],n=await q.updateProfile(a.id,{portfolio:r});if(n&&n.profile)O(n.profile),c(ss=>({...ss,portfolio:n.profile.portfolio||r})),G(!1),S({title:"",link:"",tags:"",description:"",media:""}),x.success("Project added to portfolio");else throw new Error("Failed to update profile")}catch(r){console.error("Failed to add project:",r),x.error("Failed to add project")}},[Ke,L]=o.useState(!1),$e=()=>L(!0),Qe=async()=>{if(L(!1),!!a)try{const s=await q.resetProfile(a.id);s&&s.profile?(O(s.profile),c({name:s.profile.name||"",username:s.profile.username||"",bio:s.profile.bio||"",email:s.profile.email||"",phone:s.profile.phone||"",location:s.profile.location||"",avatar:s.profile.avatar||"",skills:s.profile.skills||[],jobExperiences:s.profile.jobExperiences||[],studyExperiences:s.profile.studyExperiences||[],certifications:s.profile.certifications||[],servicesOffered:s.profile.servicesOffered||[],reviews:s.profile.reviews||[],portfolio:s.profile.portfolio||[]}),K({...t}),x.success("Profile reset successful")):x.error("Failed to reset profile")}catch(s){console.error("Reset profile failed",s),x.error("Failed to reset profile")}},[fe,Z]=o.useState(null),[Ze,J]=o.useState(!1),es=async()=>{if(!(!a||!fe))try{const s=(a?.portfolio||[]).filter(n=>n.id!==fe),r=await q.updateProfile(a.id,{portfolio:s});if(r&&r.profile)O(r.profile),c(n=>({...n,portfolio:r.profile.portfolio||s})),x.success("Project removed");else throw new Error("Failed to remove project")}catch(s){console.error("Failed to remove project",s),x.error("Failed to remove project")}finally{J(!1),Z(null)}};return o.useEffect(()=>{a&&!a.bio&&!a.skills?.length&&(y(!0),x.info("Please complete your profile setup."))},[a]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ws,{currentPage:"profile",onNavigate:d,onLogout:ke}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsx(Cs,{value:Ee,onValueChange:Fe,children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"lg:w-80",children:e.jsx(u,{className:"sticky top-24",children:e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs(ge,{className:"h-24 w-24 mx-auto mb-3",children:[e.jsx(ve,{className:"text-2xl",children:a?a.name.split(" ").map(s=>s[0]).join("").toUpperCase():"U"}),t.avatar&&e.jsx(ys,{src:t.avatar})]}),e.jsx(m,{size:"sm",variant:"outline",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full p-0",onClick:ze,title:i("profile.changePhoto"),children:e.jsx(cs,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-xl",children:f.name}),e.jsx(ue,{className:"h-5 w-5 text-blue-500"})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:f.title}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground mb-3",children:[e.jsx(ds,{className:"h-4 w-4"}),f.location]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(A,{className:"h-4 w-4 fill-current text-yellow-500"}),e.jsx("span",{children:f.rating.toFixed(1)})," ",e.jsxs("span",{className:"text-muted-foreground",children:["(",f.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{variant:l?"outline":"default",size:"sm",onClick:()=>l?Te():y(!0),className:"gap-2 flex-1",children:l?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4"}),i("common.cancel")]}):e.jsxs(e.Fragment,{children:[e.jsx(ms,{className:"h-4 w-4"}),i("profile.editProfile")]})}),l&&e.jsxs(m,{size:"sm",onClick:Ae,disabled:!_||de||v===!1,className:"gap-2 flex-1",children:[e.jsx(pe,{className:"h-4 w-4"}),i("common.save")]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-primary",children:f.completedJobs}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed Jobs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-green-500",children:f.totalEarnings}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Earnings (TND)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-blue-500",children:f.activeProjects}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Projects"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl text-purple-500",children:f.skillCredits}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Skill Credits"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:f.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:f.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Joined ",f.joinedDate]})]})]}),e.jsxs(be,{className:"grid w-full grid-cols-2 mt-6",children:[e.jsx(B,{value:"overview",className:"text-xs",children:"Overview"}),e.jsx(B,{value:"portfolio",className:"text-xs",children:"Portfolio"})]}),e.jsxs(be,{className:"grid w-full grid-cols-2 mt-2",children:[e.jsx(B,{value:"reviews",className:"text-xs",children:"Reviews"}),e.jsx(B,{value:"settings",className:"text-xs",children:"Settings"})]})]})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(M,{value:"overview",className:"space-y-6",children:[e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(g,{children:"About Me"})}),e.jsx(p,{children:l?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{value:t.bio,onChange:s=>{s.target.value.length<=D&&c({...t,bio:s.target.value})},rows:6,placeholder:"Tell people about yourself, your experience, and what you're passionate about...",className:$<0?"border-red-500":""}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:$<100?"text-orange-500":"text-muted-foreground",children:[$," ",i("profile.bioLimit")]}),e.jsxs("span",{className:"text-muted-foreground",children:[t.bio.length," / ",D]})]})]}):e.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:f.bio})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"Skills & Expertise"}),l&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:i("profile.addSkillPlaceholder"),value:R,onChange:s=>xe(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),he()),className:"h-8 w-40"}),e.jsxs(m,{size:"sm",onClick:he,className:"gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),i("common.add")]})]})]})}),e.jsx(p,{className:"space-y-4",children:t.skills.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:i("profile.noSkillsAdded")}):e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((s,r)=>e.jsxs(ee,{variant:"secondary",className:"text-sm",children:[s,l&&e.jsx("button",{onClick:()=>Ie(s),className:"ml-1 text-muted-foreground hover:text-destructive",children:e.jsx(k,{className:"h-3 w-3"})})]},r))})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:i("profile.jobExperienceTitle")}),l&&e.jsxs(m,{size:"sm",variant:"outline",className:"gap-2",onClick:Le,children:[e.jsx(E,{className:"h-4 w-4"}),i("profile.addExperience")]})]})}),e.jsx(p,{className:"space-y-4",children:t.jobExperiences.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:i("profile.noJobExperience")}):t.jobExperiences.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx(us,{className:"h-5 w-5 text-primary flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm font-medium",children:[s.title," at ",s.company]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.startDate," - ",s.endDate||i("onboarding.current")]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]}),l&&e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>Je(s.id),children:e.jsx(k,{className:"h-3 w-3 text-destructive"})})]},s.id))})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:i("profile.studyExperienceTitle")}),l&&e.jsxs(m,{size:"sm",variant:"outline",className:"gap-2",onClick:Be,children:[e.jsx(E,{className:"h-4 w-4"}),i("profile.addEducation")]})]})}),e.jsx(p,{className:"space-y-4",children:t.studyExperiences.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:i("profile.noStudyExperience")}):t.studyExperiences.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx(ps,{className:"h-5 w-5 text-primary flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm font-medium",children:[s.degree," at ",s.institution]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.startDate," - ",s.endDate||i("onboarding.current")]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]}),l&&e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>Me(s.id),children:e.jsx(k,{className:"h-3 w-3 text-destructive"})})]},s.id))})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:i("profile.servicesOfferedTitle")}),l&&e.jsxs(m,{size:"sm",variant:"outline",className:"gap-2",onClick:We,children:[e.jsx(E,{className:"h-4 w-4"}),i("profile.addService")]})]})}),e.jsx(p,{children:e.jsx("div",{className:"grid gap-4",children:t.servicesOffered.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:i("profile.noServicesOffered")}):t.servicesOffered.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.price})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3 fill-current text-yellow-500"}),e.jsx("span",{className:"text-xs",children:s.rating.toFixed(1)})]}),l&&e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>Ye(s.id),children:e.jsx(k,{className:"h-3 w-3 text-destructive"})})]})]},s.id))})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:i("profile.certificationsTitle")}),l&&e.jsxs(m,{size:"sm",variant:"outline",className:"gap-2",onClick:Ve,children:[e.jsx(E,{className:"h-4 w-4"}),i("profile.addCertification")]})]})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-3",children:t.certifications.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:i("profile.noCertifications")}):t.certifications.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx(js,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.issuer," â€¢ ",s.date]})]}),l&&e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>_e(s.id),children:e.jsx(k,{className:"h-3 w-3"})})]},s.id))})})]})]}),e.jsxs(M,{value:"portfolio",className:"space-y-6",children:[e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"My Portfolio"}),e.jsxs(m,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>G(!0),children:[e.jsx(E,{className:"h-4 w-4"}),"Add Project"]})]}),e.jsx(X,{children:"Showcase your best work and achievements"})]}),e.jsx(p,{children:e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a?.portfolio&&a.portfolio.length>0?a.portfolio.map(s=>e.jsxs(u,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center",children:s.media?e.jsx("img",{src:s.media,alt:s.title,className:"object-cover w-full h-full"}):e.jsx(je,{className:"h-8 w-8 text-muted-foreground"})}),e.jsxs(p,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm",children:s.title}),e.jsxs("div",{className:"flex gap-2",children:[s.link&&e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",asChild:!0,children:e.jsx("a",{href:s.link,target:"_blank",rel:"noreferrer",children:e.jsx(gs,{className:"h-3 w-3"})})}),l&&e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>{Z(s.id),J(!0)},children:e.jsx(vs,{className:"h-3 w-3 text-destructive"})})]})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"mb-2",children:s.tags.map(r=>e.jsx(ee,{variant:"outline",className:"text-xs mr-1",children:r},r))}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:s.description})]})]},s.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground col-span-2",children:[e.jsx(je,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{children:i("profile.noPortfolio")}),e.jsx("p",{className:"text-sm mt-2",children:i("profile.noPortfolioDesc")})]})})})]}),De&&e.jsxs(u,{className:"p-4",children:[e.jsxs(j,{children:[e.jsx(g,{children:"Add Portfolio Project"}),e.jsx(X,{children:"Describe your project and add a link or media."})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{placeholder:"Project title",value:h.title,onChange:s=>S({...h,title:s.target.value})}),e.jsx(b,{placeholder:"Link (optional)",value:h.link,onChange:s=>S({...h,link:s.target.value})}),e.jsx(b,{placeholder:"Tags (comma separated)",value:h.tags,onChange:s=>S({...h,tags:s.target.value})}),e.jsx(Ne,{placeholder:"Short description",value:h.description,onChange:s=>S({...h,description:s.target.value}),rows:4}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),e.jsx(m,{onClick:Ge,children:"Add Project"})]})]})})]})]}),e.jsx(M,{value:"reviews",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Reviews & Feedback"}),e.jsx(X,{children:"What clients say about working with me"})]}),e.jsx(p,{className:"space-y-4",children:t.reviews.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:i("profile.noReviewsYet")}),e.jsx("p",{className:"text-sm",children:i("profile.noReviewsDesc")})]}):t.reviews.map(s=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ge,{className:"h-10 w-10",children:e.jsx(ve,{children:s.reviewerId.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm",children:["User ",s.reviewerId.substring(0,8)]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Reviewed on ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[Array.from({length:s.rating}).map((r,n)=>e.jsx(A,{className:"h-3 w-3 fill-current text-yellow-500"},n)),Array.from({length:5-s.rating}).map((r,n)=>e.jsx(A,{className:"h-3 w-3 text-muted-foreground"},n))]})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.comment})]})]})},s.id))})]})}),e.jsx(M,{value:"settings",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Account Settings"}),e.jsx(X,{children:"Manage your account preferences and security"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"name",children:i("profile.fullName")}),e.jsx(b,{id:"name",value:t.name,onChange:s=>c({...t,name:s.target.value}),disabled:!l})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"username",children:i("profile.username")}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"username",value:t.username,onChange:s=>c({...t,username:s.target.value}),disabled:!l,className:l&&t.username!==N.username?v===!0?"border-green-500":v===!1?"border-red-500":"":""}),l&&t.username&&t.username!==N.username&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:de?e.jsx(Ns,{className:"h-4 w-4 animate-spin text-muted-foreground"}):v===!0?e.jsx(pe,{className:"h-4 w-4 text-green-500"}):v===!1?e.jsx(bs,{className:"h-4 w-4 text-red-500"}):null})]}),l&&v!==null&&t.username!==N.username&&e.jsx("p",{className:`text-xs mt-1 ${v?"text-green-600":"text-red-600"}`,children:i(v?"profile.usernameAvailable":"profile.usernameTaken")})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"email",children:i("auth.email")}),e.jsx(b,{id:"email",type:"email",value:t.email,onChange:s=>c({...t,email:s.target.value}),disabled:!l})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"phone",children:i("profile.phone")}),e.jsx(b,{id:"phone",value:t.phone,onChange:s=>c({...t,phone:s.target.value}),disabled:!l})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"location",children:i("profile.location")}),e.jsx(b,{id:"location",value:t.location,onChange:s=>c({...t,location:s.target.value}),disabled:!l})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"text-sm mb-4",children:"Security & Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Identity Verification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verify your identity to build trust"})]}),e.jsxs(ee,{variant:"secondary",className:"gap-1",children:[e.jsx(ue,{className:"h-3 w-3"}),"Verified"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add an extra layer of security"})]}),e.jsx(m,{size:"sm",variant:"outline",children:"Enable"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"text-sm mb-4",children:"Profile Actions"}),e.jsx(m,{size:"sm",variant:"destructive",onClick:$e,children:"Clear/Reset Profile"})]})]})]})})]})]})})}),e.jsx(se,{open:Se,onOpenChange:C,children:e.jsxs(te,{children:[e.jsxs(ae,{children:[e.jsx(re,{children:"Unsaved Changes"}),e.jsx(le,{children:i("profile.unsavedChanges")})]}),e.jsxs(ie,{children:[e.jsx(oe,{onClick:()=>{C(!1),W(null)},children:"Stay on Page"}),e.jsx(ne,{onClick:H?Re:Oe,children:"Discard Changes"})]})]})}),e.jsx(se,{open:Ze,onOpenChange:J,children:e.jsxs(te,{children:[e.jsxs(ae,{children:[e.jsx(re,{children:"Delete Project"}),e.jsx(le,{children:"Are you sure you want to remove this project from your portfolio? This action cannot be undone."})]}),e.jsxs(ie,{children:[e.jsx(oe,{onClick:()=>{J(!1),Z(null)},children:"Cancel"}),e.jsx(ne,{onClick:es,children:"Delete"})]})]})}),e.jsx(se,{open:Ke,onOpenChange:L,children:e.jsxs(te,{children:[e.jsxs(ae,{children:[e.jsx(re,{children:"Reset Profile"}),e.jsx(le,{children:"This will permanently remove your profile data and related items. You can re-create your profile later, but associated jobs, offers, and transactions will be deleted."})]}),e.jsxs(ie,{children:[e.jsx(oe,{onClick:()=>L(!1),children:"Cancel"}),e.jsx(ne,{onClick:Qe,children:"Reset Profile"})]})]})})]})}export{Js as Profile};
//# sourceMappingURL=Profile-D2xzSpYh.js.map
